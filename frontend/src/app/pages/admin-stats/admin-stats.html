<section class="admin-wrapper">
  <h2>Estadísticas</h2>

  <p *ngIf="loading">Cargando estadísticas…</p>

  <div *ngIf="!loading && stats">
    <!-- FILA 1: KPIs EVENTOS -->
    <div class="kpi-row">
      <div class="card card-main">
        <strong>{{ stats.totalEvents }}</strong>
        <span>Eventos totales</span>
      </div>

      <div class="card">
        <strong>{{ stats.pendingEvents }}</strong>
        <span>Pendientes</span>
      </div>

      <div class="card">
        <strong>{{ stats.approvedEvents }}</strong>
        <span>Aprobados</span>
      </div>

      <div class="card">
        <strong>{{ stats.cancelledEvents }}</strong>
        <span>Cancelados</span>
      </div>

      <div class="card">
        <strong>{{ stats.completedEvents }}</strong>
        <span>Completados</span>
      </div>
    </div>

    <!-- FILA 2: KPIs USUARIOS -->
    <div class="kpi-row">
      <div class="card">
        <strong>{{ stats.totalUsers }}</strong>
        <span>Usuarios totales</span>
      </div>

      <div class="card">
        <strong>{{ stats.adminUsers }}</strong>
        <span>Administradores</span>
      </div>

      <div class="card">
        <strong>{{ stats.employeeUsers }}</strong>
        <span>Empleados</span>
      </div>

      <div class="card">
        <strong>{{ stats.clientUsers }}</strong>
        <span>Clientes</span>
      </div>
    </div>

    <!-- FILA 3: GRÁFICOS -->
    <div class="charts">
      <div class="chart-box">
        <h3>Eventos por estado</h3>
        <canvas #eventsChart></canvas>
      </div>

      <div class="chart-box">
        <h3>Usuarios por rol</h3>
        <canvas #usersChart></canvas>
      </div>
    </div>
  </div>

  <div class="back-wrapper">
    <button class="back-btn" (click)="goBack()">Volver</button>
  </div>
</section>
